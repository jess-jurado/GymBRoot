<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Detalle del Ejercicio</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <div class="ejercicio-container">
    <h1 id="ejercicio-nombre">Nombre del Ejercicio: {{ nombre_ejercicio }}</h1>
    <h2 id="ejercicio-subgrupo">Subgrupo Muscular: {{ subgrupo_muscular }}</h2>
    
    <!-- Imagen del ejercicio -->
    {% if imagen_url %}
      <div class="ejercicio-imagen">
        <img src="{{ imagen_url }}" alt="Imagen del ejercicio" class="img-responsive">
      </div>
    {% else %}
      <p>No hay imagen disponible.</p>
    {% endif %}
    
    <form id="detalle-ejercicio-form">
      <div class="input-group">
        <label for="series">Número de Series:</label>
        <input type="number" id="series" name="series" placeholder="Ej: 3" min="1" required>
      </div>

      <div class="input-group">
        <label for="repeticiones">Número de Repeticiones:</label>
        <input type="number" id="repeticiones" name="repeticiones" placeholder="Ej: 10" min="1" required>
      </div>

      <div class="input-group">
        <label for="peso">Peso (kg):</label>
        <input type="number" id="peso" name="peso" placeholder="Ej: 20" min="0" step="0.1" required>
      </div>

      <div class="submit-btn">
        <button type="submit" class="btn">Guardar Ejercicio</button>
      </div>
    </form>

    <button onclick="window.history.back()" class="btn">Volver</button>
  </div>

  <script>
    // Función para obtener parámetros de la URL
    function getUrlParams() {
      const urlParams = new URLSearchParams(window.location.search);
      return {
        ejercicio: urlParams.get('ejercicio'),
        subgrupo: urlParams.get('subgrupo')
      };
    }

    // Obtener los parámetros de la URL
    const params = getUrlParams();

    // Mostrar los detalles del ejercicio
    document.getElementById('ejercicio-nombre').textContent = 'Nombre del Ejercicio: {{ nombre_ejercicio }}';
    document.getElementById('ejercicio-subgrupo').textContent = 'Subgrupo Muscular: {{ subgrupo_muscular }}';

    // Evento para manejar la submit del formulario
    document.getElementById('detalle-ejercicio-form').addEventListener('submit', function(e) {
      e.preventDefault(); // Prevenir el envío tradicional del formulario

      // Obtener los valores de los inputs
      const series = document.getElementById('series').value;
      const repeticiones = document.getElementById('repeticiones').value;
      const peso = document.getElementById('peso').value;

      // Aquí podrías hacer lo que necesites con los valores, por ejemplo, guardarlos en una base de datos

      // Mensaje para indicar que los datos han sido guardados
      alert('Datos guardados:\nSeries: ' + series + '\nRepeticiones: ' + repeticiones + '\nPeso: ' + peso);
    });
  </script>
</body>
</html>
